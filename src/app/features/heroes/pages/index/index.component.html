<app-add-button [routerLink]="route" [tooltipText]="tooltipAdd" />

<div class="options">
  <app-filter
    [filterKey]="filterKey"
    (filterText)="applyFilter($event)"
  ></app-filter>
  <app-view-mode
    [viewKey]="viewKey"
    (viewValue)="applyView($event)"
  ></app-view-mode>
</div>

@switch (viewMode) {
  @case ("table") {
    <mat-card>
      <mat-card-content class="no-padding">
        <!--
         <index-list [viewKey]="viewKey" [dataSource]="dataSource()" [displayedColumns]="displayedColumns"></index-list>
        -->
        <mat-table [dataSource]="dataSource()">
          <ng-container matColumnDef="superhero">
            <mat-header-cell *matHeaderCellDef [style.flex]="'2'"
              ><b>Heroe</b></mat-header-cell
            >
            <mat-cell
              *matCellDef="let element"
              data-label="Nº Episodio"
              [style.flex]="'2'"
              >{{ element.superhero | titlecase }}</mat-cell
            >
          </ng-container>

          <ng-container matColumnDef="alter_ego">
            <mat-header-cell *matHeaderCellDef [style.flex]="'2'"
              ><b>Personaje</b></mat-header-cell
            >
            <mat-cell
              *matCellDef="let element"
              data-label="Género"
              [style.flex]="'2'"
              >{{ element.alter_ego }}</mat-cell
            >
          </ng-container>

          <ng-container matColumnDef="publisher">
            <mat-header-cell *matHeaderCellDef [style.flex]="'2'"
              ><b>Editorial</b></mat-header-cell
            >
            <mat-cell
              *matCellDef="let element"
              data-label="Fecha Emisión"
              [style.flex]="'2'"
              >{{ element.publisher }}</mat-cell
            >
          </ng-container>

          <ng-container matColumnDef="actions">
            <mat-header-cell
              *matHeaderCellDef
              [style.flex]="'1'"
            ></mat-header-cell>
            <mat-cell *matCellDef="let element" [style.flex]="'1'">
              <a
                mat-icon-button
                [routerLink]="['/heroes/edit', element.id]"
                matTooltip="Editar"
              >
                <mat-icon>edit</mat-icon>
              </a>
              <button
                mat-icon-button
                (click)="openDeleteDialog(element.id)"
                matTooltip="Eliminar"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

          <div class="table-emtpy" *matNoDataRow>
            No hay datos que coincidan con el filtro
          </div>
        </mat-table>
      </mat-card-content>
    </mat-card>
  }

 
  @case ("grid") {
     <!--
    <mat-grid-list [cols]="getGridColumns()" [rowHeight]="getSizeHeight()">
      <mat-grid-tile *ngFor="let item of result$ | async">
        <mat-card ngClass="vertical" ngClass.xs="horizontal">
          <img mat-card-xl-image src="{{ item.image }}" alt="{{ item.name }}">
          <div>
            <mat-card-header>
              <mat-card-title> {{ item.name  }}</mat-card-title>
              <mat-card-subtitle>
                <p class="status_icon {{ item.status | lowercase }}"></p>
                {{ item.status }} - {{ item.species }} - {{ item.gender }}
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>Última ubicación conocida: <br>
                <span (click)="searchAllDataByName('location', item.location.name)">{{ item.location.name }}</span>
              </p>
              <p>Visto por última vez en: <br>
              <span (click)="searchAllDataByName('episode', item.episode.name)">{{ item.episode.name }}</span>
              </p>
            </mat-card-content>
          </div>
        </mat-card>
      </mat-grid-tile>
    </mat-grid-list> 
    -->
  }
}

<br />
<br />
<br />
